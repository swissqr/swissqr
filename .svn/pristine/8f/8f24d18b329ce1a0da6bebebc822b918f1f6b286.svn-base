package ch.swissqr.content.ch;

import java.util.ArrayList;
import java.util.List;

import com.fasterxml.jackson.annotation.JsonIgnore;

import ch.swissqr.utils.Error;
import ch.swissqr.utils.StringUtils;

/**
 * Alternative schemes Parameters and data of other supported schemes.Optional
 * data group with a variable number of elements
 * 
 * @author pschatzmann
 *
 */
public class AlternativeSchema {
	private String schemaValue = "";

	public AlternativeSchema() {
	}

	public AlternativeSchema(String as) {
		if (as != null) {
			schemaValue = as;
		}
	}

	public String getSchemaValue() {
		return schemaValue;
	}
	
	public void setSchemaValue(String value) {
		this.schemaValue = value;
	}

	public AlternativeSchema alternativeSchema(String alternativeSchema) {
		this.schemaValue = alternativeSchema;
		return this;
	}

	public String getCode() {
		return schemaValue.length() > 2 ? this.schemaValue.substring(0, 3) : "";
	}
	
	public String getDelimiter() {
		return schemaValue.length() > 3 ? this.schemaValue.substring(3, 4) : "";
	}

	@Override
	public String toString() {
		return StringUtils.str(schemaValue);
	}

	public List<Error> check() {
		List<Error> result = new ArrayList();
		StringUtils.check("alternativeSchema", false, 100, schemaValue, result);
		return result;
	}

	@JsonIgnore
	public boolean isDefined() {
		return !schemaValue.isEmpty();
	}

}
